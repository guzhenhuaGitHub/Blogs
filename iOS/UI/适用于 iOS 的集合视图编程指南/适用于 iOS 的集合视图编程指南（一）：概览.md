# 关于 iOS 集合视图

集合视图是一种使用灵活和可变布局来显示有序数据项集的方法。集合视图最常见的用途是以类似网格的方式呈现项目，但 iOS 中的集合视图不仅仅能够行和列。通过集合视图，可视化元素的精确布局可以通过子类化来定义，并且可以动态更改，因此你可以实现网格，堆栈，圆形布局，动态更改的布局或任何可以想象的布局类型。

集合视图在呈现的数据和用于呈现数据的视觉元素之间保持严格分离。在大多数情况下，你的应用程序全权负责管理数据。你的应用程序还提供用于呈现该数据的视图对象。之后，集合视图将获取你的视图并完成将其定位在屏幕上的所有工作。它与布局对象一起完成了这项工作，布局对象指定了视图的布局和视觉属性，并且可以将其分类以适合你应用的确切需求。因此，你提供了数据，布局对象提供了放置信息，而集合视图将这两部分合并在一起以实现最终外观。

## 概览

标准的 iOS 集合视图类提供了实现简单网格所需的所有行为。 你还可以扩展标准类以支持自定义布局以及与这些布局的特定交互。

### 集合视图管理数据驱动视图的可视化表示

集合视图有助于呈现由你的应用提供的数据驱动的视图。 集合视图唯一的关注点就是获取你的视图并以特定的方式将其展示。 集合视图是关于你的视图的呈现和安排，而不是关于其内容。 了解集合视图，其数据源，布局对象和自定义对象之间的交互对于在你的应用中使用集合视图至关重要，特别是以智能和高效的方式。

> 相关章节：[集合视图基础]()，[设计数据源和委托]()

### 流布局支持网格和其他面向行的展示

流布局对象是由 UIKit 提供的具体布局对象。 你通常使用流布局对象来实现网格 - 即项目的行和列 - 但流布局支持任何类型的线性流。 因为它不仅适用于网格，你可以使用流布局来创建有趣和灵活的内容布置，无论是否有子类化。 流布局支持不同大小的项目，项目的可变间距，自定义页眉和页脚以及不带子类别的自定义页边距。 子类化可以让你更进一步地调整流布局类的行为。

> 相关章节：[使用流式布局]()

### 手势识别器可用于单元格和布局操作

像所有视图一样，你可以将手势识别器附加到集合视图以操纵该视图的内容。 由于集合视图涉及多个视图的协作，因此有助于理解将手势识别器合并到集合视图中的一些基本技术。 你可以使用手势识别器来调整布局属性或操作集合视图中的项目。

> 相关章节：[合并手势支持]()

### 自定义布局让你超越网格

你可以继承基本布局对象以为你的应用实现自定义布局。 尽管设计自定义布局通常不需要大量代码，但你越了解布局的工作方式，你就越可以将布局对象设计得更高效。 本指南的最后一章将重点介绍一个全面实现自定义布局的示例项目。

> 相关章节：[创建自定义布局]()，[自定义布局：工作示例]()

## 先决条件

在阅读本文档之前，你应该对视图在 iOS 应用中扮演的角色有深入的了解。 如果你不熟悉 iOS 编程并且不熟悉 iOS 视图体系结构，请阅读本文档之前阅读 [iOS 编程指南](https://developer.apple.com/library/content/documentation/WindowsViews/Conceptual/ViewPG_iPhoneOS/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009503)。

## 也可以看看

集合视图与表视图有些相关，因为这两个视图都将有序数据呈现给用户。 表视图的实现与使用 index paths，cells 和视图重用的标准集合视图（使用提供的流布局的视图）类似。 然而，表视图的视觉表现是围绕单列布局进行的，而集合视图可以支持许多不同的布局。 有关表格视图的更多信息，请参阅[适用于 iOS 的表格视图编程指南](https://developer.apple.com/library/content/documentation/UserExperience/Conceptual/TableView_iPhone/AboutTableViewsiPhone/AboutTableViewsiPhone.html#//apple_ref/doc/uid/TP40007451)。

> 如果觉得我写的还不错，请关注我的微博[@小橘爷](http://weibo.com/yanghaoyu0225)，最新文章即时推送~